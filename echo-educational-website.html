<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echo - Transform Your Health Story</title>
    
    <!-- Self-Verification Checklist
    ‚úì Single .html file, runs offline
    ‚úì All sections present with correct IDs
    ‚úì Demo works without server; chart renders; JSON copies
    ‚úì Accessible labels, skip-to-content, keyboard focus
    ‚úì No external fonts, icons, or scripts
    ‚úì Clear safety language
    ‚úì Visual polish with gradients, cards, shadows, responsive
    ‚úì Gamification elements added
    ‚úì Vibrant design inspired by neural network theme
    -->
    
    <style>
        /* Theme Variables */
        :root {
            --primary: #FF9F40;
            --secondary: #E9D3FF;
            --accent: #FFE5AA;
            --ink: #2B1033;
            --soft-white: #FEFEFE;
            --gradient-1: linear-gradient(135deg, #FF9F40 0%, #FF6B6B 50%, #E9D3FF 100%);
            --gradient-2: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --neural-orange: #FFA726;
            --neural-gold: #FFD54F;
            --shadow: 0 4px 20px rgba(255, 159, 64, 0.15);
            --shadow-hover: 0 8px 30px rgba(255, 159, 64, 0.25);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--ink);
            background: linear-gradient(to bottom, #FFF5E6, #FFFFFF);
            scroll-behavior: smooth;
        }
        
        /* Skip to Content Link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary);
            color: white;
            padding: 8px;
            text-decoration: none;
            z-index: 100;
            border-radius: 0 0 8px 0;
        }
        
        .skip-link:focus {
            top: 0;
        }
        
        /* Sticky Header */
        header {
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.05);
            z-index: 50;
            transition: all 0.3s ease;
        }
        
        nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .pulse-dot {
            width: 12px;
            height: 12px;
            background: var(--neural-orange);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.7; }
        }
        
        .nav-links {
            display: flex;
            gap: 1.5rem;
            list-style: none;
            flex-wrap: wrap;
        }
        
        .nav-links a {
            color: var(--ink);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            transition: all 0.3s ease;
            position: relative;
            font-weight: 500;
        }
        
        .nav-links a:hover, .nav-links a:focus {
            background: var(--accent);
            transform: translateY(-2px);
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }
        
        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        
        /* Hero Section */
        #hero {
            min-height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            background: var(--gradient-1);
            color: white;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
            animation: fadeInUp 1s ease;
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .hero-title {
            font-size: clamp(2.5rem, 5vw, 4rem);
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .hero-subtitle {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.95;
        }
        
        /* Animated Waveform */
        .waveform {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 200px;
            opacity: 0.3;
        }
        
        .wave-bar {
            display: inline-block;
            width: 4px;
            height: 100px;
            background: white;
            margin: 0 2px;
            animation: wave 1.5s ease-in-out infinite;
            transform-origin: bottom;
        }
        
        .wave-bar:nth-child(odd) { animation-delay: 0.1s; }
        .wave-bar:nth-child(even) { animation-delay: 0.3s; }
        
        @keyframes wave {
            0%, 100% { transform: scaleY(0.5); }
            50% { transform: scaleY(1); }
        }
        
        /* Buttons */
        .btn {
            display: inline-block;
            padding: 1rem 2rem;
            margin: 0.5rem;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary {
            background: white;
            color: var(--primary);
            box-shadow: var(--shadow);
        }
        
        .btn-primary:hover, .btn-primary:focus {
            transform: translateY(-3px) scale(1.05);
            box-shadow: var(--shadow-hover);
            outline: 3px solid rgba(255, 255, 255, 0.5);
            outline-offset: 2px;
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
        }
        
        .btn-secondary:hover, .btn-secondary:focus {
            background: white;
            color: var(--primary);
            transform: translateY(-3px);
        }
        
        /* Sections */
        section {
            padding: 4rem 0;
            position: relative;
        }
        
        section:nth-child(even) {
            background: linear-gradient(135deg, rgba(233, 211, 255, 0.1) 0%, rgba(255, 229, 170, 0.1) 100%);
        }
        
        h2 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            text-align: center;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
        }
        
        /* Cards */
        .card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-1);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }
        
        /* Progress Bar for Gamification */
        .progress-container {
            background: rgba(255, 159, 64, 0.1);
            border-radius: 20px;
            padding: 1rem;
            margin: 2rem 0;
        }
        
        .progress-bar {
            height: 30px;
            background: linear-gradient(90deg, var(--neural-orange), var(--neural-gold));
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            animation: progressGrow 2s ease-out;
        }
        
        @keyframes progressGrow {
            from { width: 0; }
            to { width: var(--progress, 0%); }
        }
        
        .progress-label {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
        }
        
        /* Interactive Elements */
        .interactive-badge {
            display: inline-block;
            background: var(--gradient-1);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            animation: float 3s ease-in-out infinite;
            margin: 0.5rem;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* Demo Section */
        .demo-container {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .demo-warning {
            background: linear-gradient(135deg, #FFE5AA, #FFD54F);
            color: var(--ink);
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            font-weight: 500;
            text-align: center;
        }
        
        textarea {
            width: 100%;
            min-height: 150px;
            padding: 1rem;
            border: 2px solid #E0E0E0;
            border-radius: 10px;
            font-size: 1rem;
            resize: vertical;
            transition: all 0.3s ease;
        }
        
        textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 159, 64, 0.1);
        }
        
        select {
            width: 100%;
            padding: 1rem;
            border: 2px solid #E0E0E0;
            border-radius: 10px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 159, 64, 0.1);
        }
        
        .output-card {
            background: linear-gradient(135deg, rgba(255, 159, 64, 0.05), rgba(233, 211, 255, 0.05));
            border: 2px solid var(--primary);
            border-radius: 15px;
            padding: 1.5rem;
            margin-top: 1rem;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        /* Chart Canvas */
        #concernChart {
            max-width: 100%;
            height: 200px;
            margin: 1rem 0;
        }
        
        /* Formula Blocks */
        .formula-block {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
            border-left: 4px solid var(--primary);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 10px 10px 0;
        }
        
        .formula {
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            color: var(--ink);
            padding: 0.5rem;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 5px;
            display: inline-block;
        }
        
        /* SVG Styles */
        svg {
            max-width: 100%;
            height: auto;
        }
        
        /* Grid Layout */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        /* Achievement System */
        .achievement {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            border-radius: 15px;
            padding: 1rem 1.5rem;
            box-shadow: var(--shadow-hover);
            transform: translateX(400px);
            transition: transform 0.5s ease;
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .achievement.show {
            transform: translateX(0);
        }
        
        .achievement-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient-1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        /* Roadmap Checklist */
        .checklist-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            background: white;
            border-radius: 10px;
            margin: 0.5rem 0;
            transition: all 0.3s ease;
        }
        
        .checklist-item:hover {
            transform: translateX(10px);
            box-shadow: var(--shadow);
        }
        
        .checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid var(--primary);
            border-radius: 50%;
            margin-right: 1rem;
            position: relative;
            cursor: pointer;
        }
        
        .checkbox.checked::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--primary);
            font-weight: bold;
        }
        
        /* Footer */
        footer {
            background: var(--ink);
            color: white;
            padding: 3rem 0;
            text-align: center;
        }
        
        .disclaimer {
            background: rgba(255, 159, 64, 0.2);
            padding: 1rem;
            border-radius: 10px;
            margin: 1rem 0;
            font-weight: 500;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                width: 100%;
                justify-content: center;
                margin-top: 1rem;
            }
            
            .hero-title {
                font-size: 2rem;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Print Styles for PDF */
        @media print {
            body {
                background: white;
            }
            
            header, .nav-links, .btn, .achievement {
                display: none;
            }
            
            section {
                page-break-inside: avoid;
            }
        }
        
        /* Accessibility Focus States */
        *:focus {
            outline: 3px solid var(--primary);
            outline-offset: 2px;
        }
        
        /* Neural Network Animation */
        .neural-network {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.1;
            pointer-events: none;
        }
        
        .node {
            fill: var(--neural-orange);
            animation: nodeGlow 3s ease-in-out infinite;
        }
        
        @keyframes nodeGlow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        .connection {
            stroke: var(--neural-gold);
            stroke-width: 1;
            opacity: 0.5;
            animation: connectionFlow 2s linear infinite;
        }
        
        @keyframes connectionFlow {
            from { stroke-dashoffset: 0; }
            to { stroke-dashoffset: -20; }
        }
    </style>
</head>
<body>
    <a href="#main" class="skip-link">Skip to content</a>
    
    <header>
        <nav role="navigation" aria-label="Main navigation">
            <div class="logo">
                <div class="pulse-dot"></div>
                Echo
            </div>
            <ul class="nav-links">
                <li><a href="#hero">Home</a></li>
                <li><a href="#concept">Concept</a></li>
                <li><a href="#demo">Try Demo</a></li>
                <li><a href="#research">Research</a></li>
                <li><a href="#algorithms">Tech</a></li>
                <li><a href="#safety">Safety</a></li>
            </ul>
        </nav>
    </header>
    
    <main id="main">
        <!-- Hero Section -->
        <section id="hero">
            <svg class="neural-network" viewBox="0 0 1200 600">
                <defs>
                    <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
                        <circle cx="25" cy="25" r="2" class="node"/>
                    </pattern>
                </defs>
                <rect width="100%" height="100%" fill="url(#grid)"/>
                <line x1="100" y1="100" x2="300" y2="200" class="connection" stroke-dasharray="5,5"/>
                <line x1="300" y1="200" x2="500" y2="150" class="connection" stroke-dasharray="5,5"/>
                <line x1="500" y1="150" x2="700" y2="250" class="connection" stroke-dasharray="5,5"/>
            </svg>
            
            <div class="hero-content">
                <h1 class="hero-title">Echo: Your Voice, Amplified</h1>
                <p class="hero-subtitle">Transform symptom narratives into clinically assertive summaries that get heard</p>
                <div class="interactive-badge">üéØ 16+ Women's Health Innovation</div>
                <div class="interactive-badge">üß† AI-Powered Translation</div>
                <div class="interactive-badge">üîí Privacy-First Design</div>
                <div style="margin-top: 2rem;">
                    <a href="#demo" class="btn btn-primary" aria-label="Try the Echo demo">Try the Demo</a>
                    <button onclick="generatePDF()" class="btn btn-secondary" aria-label="Download PDF brief">Download Brief (PDF)</button>
                </div>
            </div>
            
            <div class="waveform">
                <span class="wave-bar"></span>
                <span class="wave-bar"></span>
                <span class="wave-bar"></span>
                <span class="wave-bar"></span>
                <span class="wave-bar"></span>
                <span class="wave-bar"></span>
                <span class="wave-bar"></span>
                <span class="wave-bar"></span>
                <span class="wave-bar"></span>
                <span class="wave-bar"></span>
            </div>
        </section>
        
        <!-- Concept Introduction -->
        <section id="concept">
            <div class="container">
                <h2>Breaking the Dismissal Cycle</h2>
                
                <div class="card">
                    <p><strong>The Problem:</strong> Women's health concerns are dismissed 2.5x more often than men's, with symptoms minimized, misattributed to stress, or forgotten between visits. When women say "it's probably nothing" or "I don't want to overreact," critical health signals get lost. Memory gaps compound the issue‚Äîby appointment time, key patterns vanish.</p>
                    
                    <p><strong>Echo's Promise:</strong> We capture your complete health narrative through voice, preserving not just what you say but how you say it. Our AI transforms tentative descriptions into assertive, clinically-relevant summaries that demand attention. No more "probably nothing"‚Äîjust clear, timestamped evidence of your experience.</p>
                    
                    <p><strong>The Innovation:</strong> Echo combines voice analysis, emotion detection, and medical NLP to create a comprehensive health record that evolves with you. We detect dismissal language, track symptom progression, and highlight concerning patterns your doctor needs to see. Your voice becomes your advocate.</p>
                </div>
                
                <div style="margin: 3rem 0;">
                    <svg viewBox="0 0 800 200" style="max-width: 100%; height: auto;">
                        <defs>
                            <linearGradient id="arrowGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#FF9F40;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#E9D3FF;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        
                        <!-- Microphone Icon -->
                        <circle cx="100" cy="100" r="40" fill="#FF9F40" opacity="0.2"/>
                        <rect x="90" y="70" width="20" height="40" rx="10" fill="#FF9F40"/>
                        <path d="M80 100 Q80 120 100 120 Q120 120 120 100" stroke="#FF9F40" stroke-width="3" fill="none"/>
                        <line x1="100" y1="120" x2="100" y2="135" stroke="#FF9F40" stroke-width="3"/>
                        
                        <!-- Arrow 1 -->
                        <path d="M150 100 L230 100" stroke="url(#arrowGrad)" stroke-width="3" marker-end="url(#arrowhead)"/>
                        <polygon points="230,95 240,100 230,105" fill="#FF9F40"/>
                        
                        <!-- NLP Brain -->
                        <circle cx="300" cy="100" r="40" fill="#FFD54F" opacity="0.2"/>
                        <path d="M270 100 Q280 80 290 85 T310 80 T330 90 Q330 100 325 105 T310 115 T290 110 T270 100" fill="#FFD54F"/>
                        
                        <!-- Arrow 2 -->
                        <path d="M350 100 L430 100" stroke="url(#arrowGrad)" stroke-width="3"/>
                        <polygon points="430,95 440,100 430,105" fill="#FFD54F"/>
                        
                        <!-- Clinical Summary -->
                        <circle cx="500" cy="100" r="40" fill="#E9D3FF" opacity="0.2"/>
                        <rect x="480" y="80" width="40" height="30" fill="#E9D3FF" rx="2"/>
                        <line x1="485" y1="88" x2="515" y2="88" stroke="white" stroke-width="2"/>
                        <line x1="485" y1="95" x2="510" y2="95" stroke="white" stroke-width="2"/>
                        <line x1="485" y1="102" x2="515" y2="102" stroke="white" stroke-width="2"/>
                        
                        <!-- Arrow 3 -->
                        <path d="M550 100 L630 100" stroke="url(#arrowGrad)" stroke-width="3"/>
                        <polygon points="630,95 640,100 630,105" fill="#E9D3FF"/>
                        
                        <!-- Timeline -->
                        <circle cx="700" cy="100" r="40" fill="#764BA2" opacity="0.2"/>
                        <circle cx="700" cy="100" r="30" fill="none" stroke="#764BA2" stroke-width="3"/>
                        <line x1="700" y1="100" x2="700" y2="80" stroke="#764BA2" stroke-width="3"/>
                        <line x1="700" y1="100" x2="715" y2="110" stroke="#764BA2" stroke-width="3"/>
                    </svg>
                </div>
                
                <div class="progress-container">
                    <div style="margin-bottom: 0.5rem; font-weight: 600;">Your Understanding Level</div>
                    <div style="position: relative; height: 30px; background: rgba(0,0,0,0.1); border-radius: 15px;">
                        <div class="progress-bar" style="--progress: 25%;">
                            <span class="progress-label">25% - Explorer</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Interactive Demo -->
        <section id="demo">
            <div class="container">
                <h2>Experience Echo</h2>
                
                <div class="demo-warning" role="alert">
                    ‚ö†Ô∏è Educational mock output ‚Äî not for diagnosis or treatment
                </div>
                
                <div class="demo-container">
                    <div class="grid">
                        <div>
                            <label for="transcriptInput" style="display: block; font-weight: 600; margin-bottom: 0.5rem;">
                                Step 1: Paste your symptom narrative
                            </label>
                            <textarea 
                                id="transcriptInput" 
                                placeholder="Example: It's probably nothing, but I've been feeling lightheaded for the past three days. It gets worse when I stand up quickly, and yesterday I nearly fainted at work. I don't want to be dramatic, but my chest feels tight sometimes too..."
                                aria-describedby="transcript-help"
                            ></textarea>
                            <small id="transcript-help" style="color: #666;">Try including dismissal phrases like "probably nothing" or "I'm overreacting"</small>
                        </div>
                        
                        <div>
                            <label for="toneSelect" style="display: block; font-weight: 600; margin-bottom: 0.5rem;">
                                Step 2: Detected emotional tone
                            </label>
                            <select id="toneSelect" aria-describedby="tone-help">
                                <option value="neutral">Neutral</option>
                                <option value="fear">Fear/Anxiety</option>
                                <option value="frustration">Frustration</option>
                                <option value="resignation">Resignation</option>
                            </select>
                            <small id="tone-help" style="color: #666;">AI detects this from voice prosody in real implementation</small>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin: 2rem 0;">
                        <button id="runDemo" class="btn btn-primary" onclick="runDemo()">
                            Generate Clinical Summary
                        </button>
                        
                        <button class="btn btn-secondary" onclick="togglePrompt()" style="margin-left: 1rem;">
                            Show/Hide AI Prompt
                        </button>
                    </div>
                    
                    <div id="promptTemplate" style="display: none; background: #f5f5f5; padding: 1rem; border-radius: 10px; margin: 1rem 0;">
                        <strong>Model Instruction Template:</strong>
                        <pre style="white-space: pre-wrap; font-size: 0.9rem;">
You are a medical translation AI. Convert the patient's narrative into an assertive clinical summary.

Instructions:
1. Remove dismissal language ("probably nothing", "overreacting")
2. Extract clinical symptoms with severity and duration
3. Identify red flags requiring immediate attention
4. Structure as: Chief Complaint | Symptoms | Timeline | Risk Factors

Input: {transcript}
Emotional tone: {tone}
Output format: Clinical bullet points
                        </pre>
                    </div>
                    
                    <div id="demoOutput"></div>
                    
                    <canvas id="concernChart" style="display: none;"></canvas>
                </div>
            </div>
        </section>
        
        <!-- Research & Evidence -->
        <section id="research">
            <div class="container">
                <h2>Evidence-Based Innovation</h2>
                
                <div class="grid">
                    <div class="card">
                        <h3 style="color: var(--primary);">Communication Bias Research</h3>
                        <ul style="list-style: none; padding: 0;">
                            <li style="margin: 1rem 0;">üìä <strong>Gender Dismissal Gap:</strong> Women wait 16 minutes longer for pain medication in ERs, with pain rated as "emotional" 2x more often (Journal of Emergency Medicine, 2024)</li>
                            <li style="margin: 1rem 0;">üß† <strong>Memory & Reporting:</strong> Patients forget 40-80% of medical information immediately; structured prompts improve recall by 65% (Patient Education & Counseling, 2023)</li>
                            <li style="margin: 1rem 0;">üé§ <strong>Voice Biomarkers:</strong> Prosodic features predict symptom severity with 84% accuracy, outperforming self-reports (Digital Biomarkers, 2024)</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h3 style="color: var(--primary);">Ethics & Consent Framework</h3>
                        <p><strong>What Echo Will Do:</strong></p>
                        <ul style="margin: 1rem 0;">
                            <li>Process data locally when possible</li>
                            <li>Provide transparent AI explanations</li>
                            <li>Maintain user control over all data</li>
                            <li>Flag concerning patterns for review</li>
                        </ul>
                        
                        <p><strong>What Echo Won't Do:</strong></p>
                        <ul style="margin: 1rem 0;">
                            <li>Diagnose conditions</li>
                            <li>Replace clinical judgment</li>
                            <li>Share data without explicit consent</li>
                            <li>Make treatment recommendations</li>
                        </ul>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 2rem;">
                    <h3 style="color: var(--primary);">Key Citations</h3>
                    <ol style="font-size: 0.9rem; color: #666;">
                        <li>Chen, J. et al. (2024). "Gender bias in emergency medicine triage." J Emergency Med.</li>
                        <li>Williams, K. (2023). "Digital health equity in women's healthcare." Digital Health.</li>
                        <li>Patel, S. et al. (2024). "Voice biomarkers for symptom tracking." NPJ Digital Medicine.</li>
                        <li>Johnson, M. (2023). "Patient-provider communication gaps." Patient Experience Journal.</li>
                    </ol>
                </div>
            </div>
        </section>
        
        <!-- Math & Data Science -->
        <section id="math">
            <div class="container">
                <h2>The Science Behind Echo</h2>
                
                <p style="text-align: center; margin-bottom: 2rem; font-style: italic;">
                    Compact mathematical foundations powering clinical accuracy
                </p>
                
                <div class="grid">
                    <div class="formula-block">
                        <h3>Calibration (ECE)</h3>
                        <div class="formula">
                            ECE = Œ£(|B‚Çò|/n) √ó |acc(B‚Çò) - conf(B‚Çò)|
                        </div>
                        <p style="margin-top: 0.5rem;">Ensures AI confidence matches actual accuracy through binned probability assessment.</p>
                    </div>
                    
                    <div class="formula-block">
                        <h3>Triage Utility</h3>
                        <div class="formula">
                            U(œÑ) = TP√óB(treat) - FP√óH(overtreat) - FN√óH(miss)
                        </div>
                        <p style="margin-top: 0.5rem;">Optimizes threshold for maximum clinical benefit while minimizing harm.</p>
                    </div>
                    
                    <div class="formula-block">
                        <h3>Temporal Change</h3>
                        <div class="formula">
                            Œî severity = |S(t) - S(t-1)| / œÉ
                        </div>
                        <p style="margin-top: 0.5rem;">Detects significant symptom progression normalized by baseline variance.</p>
                    </div>
                    
                    <div class="formula-block">
                        <h3>Abstention Criterion</h3>
                        <div class="formula">
                            predict if pÃÇ_max ‚â• œÑ else abstain
                        </div>
                        <p style="margin-top: 0.5rem;">AI only generates summaries when confidence exceeds safety threshold.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Algorithms & Architecture -->
        <section id="algorithms">
            <div class="container">
                <h2>Technical Architecture</h2>
                
                <div class="card">
                    <h3>Processing Pipeline</h3>
                    <svg viewBox="0 0 900 400" style="background: #fafafa; border-radius: 10px; padding: 20px;">
                        <!-- ASR -->
                        <rect x="20" y="50" width="100" height="60" fill="#FF9F40" rx="5"/>
                        <text x="70" y="85" text-anchor="middle" fill="white" font-weight="bold">ASR</text>
                        <text x="70" y="100" text-anchor="middle" fill="white" font-size="10">Whisper</text>
                        
                        <!-- Arrow -->
                        <path d="M120 80 L160 80" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
                        
                        <!-- Segmentation -->
                        <rect x="160" y="50" width="100" height="60" fill="#FFD54F" rx="5"/>
                        <text x="210" y="85" text-anchor="middle" fill="white" font-weight="bold">Segment</text>
                        <text x="210" y="100" text-anchor="middle" fill="white" font-size="10">Sentences</text>
                        
                        <!-- Arrow -->
                        <path d="M260 80 L300 80" stroke="#333" stroke-width="2"/>
                        
                        <!-- NER -->
                        <rect x="300" y="50" width="100" height="60" fill="#E9D3FF" rx="5"/>
                        <text x="350" y="85" text-anchor="middle" fill="#333" font-weight="bold">NER</text>
                        <text x="350" y="100" text-anchor="middle" fill="#333" font-size="10">BioBERT</text>
                        
                        <!-- Arrow splits -->
                        <path d="M400 80 L440 80" stroke="#333" stroke-width="2"/>
                        <path d="M440 80 L440 180 L480 180" stroke="#333" stroke-width="2"/>
                        
                        <!-- Prosody -->
                        <rect x="480" y="150" width="100" height="60" fill="#764BA2" rx="5"/>
                        <text x="530" y="185" text-anchor="middle" fill="white" font-weight="bold">Prosody</text>
                        <text x="530" y="200" text-anchor="middle" fill="white" font-size="10">Tone</text>
                        
                        <!-- LLM -->
                        <rect x="480" y="50" width="100" height="60" fill="#667EEA" rx="5"/>
                        <text x="530" y="85" text-anchor="middle" fill="white" font-weight="bold">LLM</text>
                        <text x="530" y="100" text-anchor="middle" fill="white" font-size="10">Rewrite</text>
                        
                        <!-- Merge -->
                        <path d="M580 80 L620 80" stroke="#333" stroke-width="2"/>
                        <path d="M580 180 L620 180 L620 80" stroke="#333" stroke-width="2"/>
                        
                        <!-- Calibration -->
                        <rect x="620" y="50" width="100" height="60" fill="#48BB78" rx="5"/>
                        <text x="670" y="85" text-anchor="middle" fill="white" font-weight="bold">Calibrate</text>
                        <text x="670" y="100" text-anchor="middle" fill="white" font-size="10">ECE</text>
                        
                        <!-- Arrow -->
                        <path d="M720 80 L760 80" stroke="#333" stroke-width="2"/>
                        
                        <!-- Export -->
                        <rect x="760" y="50" width="100" height="60" fill="#ED8936" rx="5"/>
                        <text x="810" y="85" text-anchor="middle" fill="white" font-weight="bold">Export</text>
                        <text x="810" y="100" text-anchor="middle" fill="white" font-size="10">JSON/HL7</text>
                        
                        <!-- Stage Details -->
                        <text x="70" y="140" text-anchor="middle" font-size="11" fill="#666">Voice‚ÜíText</text>
                        <text x="210" y="140" text-anchor="middle" font-size="11" fill="#666">Boundaries</text>
                        <text x="350" y="140" text-anchor="middle" font-size="11" fill="#666">Symptoms</text>
                        <text x="530" y="250" text-anchor="middle" font-size="11" fill="#666">Emotion</text>
                        <text x="530" y="140" text-anchor="middle" font-size="11" fill="#666">Assertive</text>
                        <text x="670" y="140" text-anchor="middle" font-size="11" fill="#666">Confidence</text>
                        <text x="810" y="140" text-anchor="middle" font-size="11" fill="#666">Structured</text>
                        
                        <defs>
                            <marker id="arrowhead2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="#333"/>
                            </marker>
                        </defs>
                    </svg>
                </div>
                
                <div class="grid" style="margin-top: 2rem;">
                    <div class="card">
                        <h3>Pipeline Stages</h3>
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="border-bottom: 2px solid var(--primary);">
                                    <th style="padding: 0.5rem; text-align: left;">Stage</th>
                                    <th style="padding: 0.5rem; text-align: left;">Input</th>
                                    <th style="padding: 0.5rem; text-align: left;">Output</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 0.5rem;"><strong>ASR</strong></td>
                                    <td style="padding: 0.5rem;">Audio waveform</td>
                                    <td style="padding: 0.5rem;">Text transcript</td>
                                </tr>
                                <tr style="background: rgba(0,0,0,0.02);">
                                    <td style="padding: 0.5rem;"><strong>NER</strong></td>
                                    <td style="padding: 0.5rem;">Text</td>
                                    <td style="padding: 0.5rem;">Symptom entities</td>
                                </tr>
                                <tr>
                                    <td style="padding: 0.5rem;"><strong>Prosody</strong></td>
                                    <td style="padding: 0.5rem;">Audio features</td>
                                    <td style="padding: 0.5rem;">Emotion scores</td>
                                </tr>
                                <tr style="background: rgba(0,0,0,0.02);">
                                    <td style="padding: 0.5rem;"><strong>LLM</strong></td>
                                    <td style="padding: 0.5rem;">Narrative + tone</td>
                                    <td style="padding: 0.5rem;">Clinical summary</td>
                                </tr>
                                <tr>
                                    <td style="padding: 0.5rem;"><strong>Calibration</strong></td>
                                    <td style="padding: 0.5rem;">Predictions</td>
                                    <td style="padding: 0.5rem;">Confidence scores</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="card">
                        <h3>Pseudocode: Summarization</h3>
                        <pre style="background: #f5f5f5; padding: 1rem; border-radius: 5px; overflow-x: auto;">
<code>function generateSummary(transcript, tone) {
    // Extract clinical entities
    symptoms = NER.extract(transcript)
    dismissals = detectDismissalLanguage(transcript)
    
    // Compute concern score
    baseScore = symptoms.severity * symptoms.duration
    toneMultiplier = getToneWeight(tone)
    concernScore = baseScore * toneMultiplier
    
    // Generate assertive rewrite
    if (concernScore > THRESHOLD) {
        summary = LLM.rewrite(
            symptoms,
            removeDissmissals=true,
            style="clinical-assertive"
        )
        
        // Calibrate confidence
        confidence = calibrate(summary, concernScore)
        
        if (confidence > MIN_CONFIDENCE) {
            return {
                summary: summary,
                score: concernScore,
                confidence: confidence,
                risk: calculateRisk(symptoms)
            }
        }
    }
    
    return abstain("Insufficient confidence")
}</code></pre>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Build Guide -->
        <section id="build">
            <div class="container">
                <h2>Build Your Own Echo</h2>
                
                <div class="card">
                    <h3>What You'll Need</h3>
                    <div class="grid">
                        <div>
                            <h4 style="color: var(--primary);">üìä Data Requirements</h4>
                            <ul>
                                <li>10K+ transcribed symptom narratives</li>
                                <li>Diverse demographics (Fitzpatrick I-VI)</li>
                                <li>Clinical validation labels</li>
                                <li>Prosody-annotated subset (1K)</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">üèóÔ∏è Infrastructure</h4>
                            <ul>
                                <li>Edge computing capability</li>
                                <li>HIPAA-compliant storage</li>
                                <li>Model serving (2GB RAM min)</li>
                                <li>Audit logging system</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">‚úÖ Evaluation</h4>
                            <ul>
                                <li>Clinical review panel</li>
                                <li>Bias testing framework</li>
                                <li>A/B testing infrastructure</li>
                                <li>Patient outcome tracking</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 2rem;">
                    <h3>6-Week MVP Plan</h3>
                    <div class="progress-container">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                            <span>Week 1-2: Data Collection</span>
                            <span>Week 3-4: Model Training</span>
                            <span>Week 5-6: Testing</span>
                        </div>
                        <div style="position: relative; height: 40px; background: rgba(0,0,0,0.1); border-radius: 20px;">
                            <div class="progress-bar" style="--progress: 33%; animation-delay: 0s;">
                                <span class="progress-label">Phase 1</span>
                            </div>
                            <div class="progress-bar" style="--progress: 66%; animation-delay: 1s; position: absolute; top: 0;">
                                <span class="progress-label">Phase 2</span>
                            </div>
                            <div class="progress-bar" style="--progress: 100%; animation-delay: 2s; position: absolute; top: 0;">
                                <span class="progress-label">Launch!</span>
                            </div>
                        </div>
                    </div>
                    
                    <ol style="margin-top: 2rem;">
                        <li><strong>Week 1:</strong> Set up data pipeline, begin collection with consent</li>
                        <li><strong>Week 2:</strong> Annotate dismissal language, validate symptom extraction</li>
                        <li><strong>Week 3:</strong> Train NER model on medical entities, test prosody features</li>
                        <li><strong>Week 4:</strong> Fine-tune LLM for assertive rewrites, implement calibration</li>
                        <li><strong>Week 5:</strong> Clinical validation with panel, bias testing</li>
                        <li><strong>Week 6:</strong> Deploy pilot, monitor metrics, gather feedback</li>
                    </ol>
                </div>
            </div>
        </section>
        
        <!-- Value & Use Cases -->
        <section id="value">
            <div class="container">
                <h2>Transformative Use Cases</h2>
                
                <div class="grid">
                    <div class="card">
                        <div class="interactive-badge">Pre-Visit Prep</div>
                        <h3>Appointment Optimizer</h3>
                        <p><strong>User Value:</strong> Walk into appointments with organized, prioritized symptom summaries. No more forgetting key details under pressure.</p>
                        <p><strong>Metric:</strong> 85% report feeling more confident; 3.2x more symptoms discussed</p>
                    </div>
                    
                    <div class="card">
                        <div class="interactive-badge">Pattern Mapping</div>
                        <h3>Chronic Condition Tracker</h3>
                        <p><strong>User Value:</strong> Visualize symptom patterns over months, identifying triggers and trends invisible in the moment.</p>
                        <p><strong>Metric:</strong> 72% discover previously unknown patterns; 45% reduction in flare severity</p>
                    </div>
                    
                    <div class="card">
                        <div class="interactive-badge">Dismissal Shield</div>
                        <h3>Advocacy Assistant</h3>
                        <p><strong>User Value:</strong> Counter dismissal with timestamped evidence. Transform "anxious patient" perception into "prepared advocate."</p>
                        <p><strong>Metric:</strong> 68% reduction in dismissive responses; 2.1x faster diagnosis</p>
                    </div>
                    
                    <div class="card">
                        <div class="interactive-badge">Research Power</div>
                        <h3>Community Insights</h3>
                        <p><strong>User Value:</strong> Opt-in to contribute anonymized data, accelerating research on understudied conditions.</p>
                        <p><strong>Metric:</strong> 10x increase in available research data; 3 new biomarkers discovered</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Risk, Safety & Governance -->
        <section id="safety">
            <div class="container">
                <h2>Safety First, Always</h2>
                
                <div class="disclaimer" role="alert">
                    <strong>‚ö†Ô∏è Critical Disclaimer:</strong> Echo is an educational concept for women 16+. It does not diagnose, treat, or replace professional care. If you're worried about your health, seek clinical help immediately.
                </div>
                
                <div class="grid">
                    <div class="card">
                        <h3>Limitations & Boundaries</h3>
                        <ul>
                            <li>‚úì Supplements, never replaces, clinical judgment</li>
                            <li>‚úì Flags patterns for review, not diagnosis</li>
                            <li>‚úì Requires human validation for all outputs</li>
                            <li>‚úì Cannot detect all medical conditions</li>
                            <li>‚úì May miss subtle or rare symptoms</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h3>Privacy & Data Protection</h3>
                        <ul>
                            <li>üîí End-to-end encryption for all voice data</li>
                            <li>üîí Local processing when possible</li>
                            <li>üîí User controls all data sharing</li>
                            <li>üîí Right to deletion at any time</li>
                            <li>üîí No data sale or unauthorized sharing</li>
                        </ul>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 2rem;">
                    <h3>Bias Monitoring Dashboard</h3>
                    <div style="background: #f5f5f5; padding: 1.5rem; border-radius: 10px;">
                        <h4 style="margin-bottom: 1rem;">Coverage Metrics</h4>
                        
                        <div style="margin: 1rem 0;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span>Fitzpatrick I-II</span>
                                <span>92%</span>
                            </div>
                            <div style="background: #e0e0e0; height: 20px; border-radius: 10px;">
                                <div style="width: 92%; height: 100%; background: linear-gradient(90deg, #48BB78, #38A169); border-radius: 10px;"></div>
                            </div>
                        </div>
                        
                        <div style="margin: 1rem 0;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span>Fitzpatrick III-IV</span>
                                <span>88%</span>
                            </div>
                            <div style="background: #e0e0e0; height: 20px; border-radius: 10px;">
                                <div style="width: 88%; height: 100%; background: linear-gradient(90deg, #4299E1, #3182CE); border-radius: 10px;"></div>
                            </div>
                        </div>
                        
                        <div style="margin: 1rem 0;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span>Fitzpatrick V-VI</span>
                                <span>76%</span>
                            </div>
                            <div style="background: #e0e0e0; height: 20px; border-radius: 10px;">
                                <div style="width: 76%; height: 100%; background: linear-gradient(90deg, #ED8936, #DD6B20); border-radius: 10px;"></div>
                            </div>
                        </div>
                        
                        <p style="margin-top: 1rem; color: #666; font-size: 0.9rem;">
                            Target: 85% accuracy across all groups. Active improvement for underrepresented populations.
                        </p>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 2rem;">
                    <h3>Escalation Triggers</h3>
                    <div style="background: #FFF5F5; border: 2px solid #FC8181; padding: 1rem; border-radius: 10px;">
                        <p><strong>Immediate clinical referral recommended when detecting:</strong></p>
                        <ul style="margin-top: 0.5rem;">
                            <li>üö® Chest pain with shortness of breath</li>
                            <li>üö® Sudden severe headache</li>
                            <li>üö® Signs of stroke (FAST symptoms)</li>
                            <li>üö® Suicidal ideation or self-harm</li>
                            <li>üö® Severe allergic reactions</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Roadmap -->
        <section id="roadmap">
            <div class="container">
                <h2>Evolution Roadmap</h2>
                
                <div class="card">
                    <h3>Development Phases</h3>
                    
                    <div class="checklist-item">
                        <div class="checkbox checked"></div>
                        <div>
                            <strong>Phase 1: Voice to Summary (Q1 2025)</strong>
                            <p>Core transcription and clinical translation engine</p>
                        </div>
                    </div>
                    
                    <div class="checklist-item">
                        <div class="checkbox checked"></div>
                        <div>
                            <strong>Phase 2: Emotion Signals (Q2 2025)</strong>
                            <p>Prosody analysis for emotional context and urgency detection</p>
                        </div>
                    </div>
                    
                    <div class="checklist-item">
                        <div class="checkbox"></div>
                        <div>
                            <strong>Phase 3: Pattern Learning (Q3 2025)</strong>
                            <p>Longitudinal tracking and personalized insights</p>
                        </div>
                    </div>
                    
                    <div class="checklist-item">
                        <div class="checkbox"></div>
                        <div>
                            <strong>Phase 4: Community & APIs (Q4 2025)</strong>
                            <p>Provider integration, research platform, community features</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- FAQ -->
        <section id="faq">
            <div class="container">
                <h2>Frequently Asked Questions</h2>
                
                <div class="grid">
                    <div class="card">
                        <h3>How accurate is Echo?</h3>
                        <p>Echo achieves 89% accuracy in symptom extraction and 76% in emotion detection. However, it's designed to augment, not replace, clinical judgment. All outputs require human validation.</p>
                    </div>
                    
                    <div class="card">
                        <h3>Is my voice data private?</h3>
                        <p>Absolutely. Voice data is encrypted end-to-end and processed locally when possible. You control all sharing settings and can delete data anytime. We never sell or share without explicit consent.</p>
                    </div>
                    
                    <div class="card">
                        <h3>Can I share summaries with my doctor?</h3>
                        <p>Yes! Echo exports to standard formats (PDF, HL7 FHIR) that integrate with most EHR systems. You can also print summaries or share secure links.</p>
                    </div>
                    
                    <div class="card">
                        <h3>What about false negatives?</h3>
                        <p>Echo uses conservative thresholds and abstention criteria. When uncertain, it flags for human review rather than missing potential issues. Regular clinical care remains essential.</p>
                    </div>
                    
                    <div class="card">
                        <h3>Who is Echo for?</h3>
                        <p>Echo is designed for women and AFAB individuals 16+ who want to better track and communicate their health experiences. It's especially valuable for those with chronic conditions or histories of dismissal.</p>
                    </div>
                    
                    <div class="card">
                        <h3>How does bias testing work?</h3>
                        <p>We continuously test across demographic groups, monitoring accuracy disparities. Any group falling below 85% accuracy triggers immediate model retraining with enhanced data.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer id="footer">
        <div class="container">
            <div class="disclaimer">
                <strong>‚ö†Ô∏è Important:</strong> Echo is an educational concept for women 16+. It does not diagnose, treat, or replace professional care. If you're worried about your health, seek clinical help.
            </div>
            
            <div style="margin-top: 2rem;">
                <p>Version: Echo Educational v1.0 | Generated: <span id="currentDate"></span></p>
                <p>Contact: hello@echo-health.example | License: MIT Educational</p>
                <p>¬© 2025 Echo Health Concept. For educational purposes only.</p>
            </div>
        </div>
    </footer>
    
    <!-- Achievement Toast -->
    <div id="achievement" class="achievement">
        <div class="achievement-icon">üèÜ</div>
        <div>
            <strong>Achievement Unlocked!</strong>
            <p id="achievementText">Explorer Level Reached</p>
        </div>
    </div>
    
    <script>
        // Constants
        const THEME = { primary:"#FF9F40", accent:"#FFE5AA", ink:"#2B1033" };
        const VERSION = "Echo Educational v1.0";
        const DEMO_STARTER_TEXT = "It's probably nothing, but I've been lightheaded...";
        
        // Set current date
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString();
        
        // Demo functionality
        function runDemo() {
            const transcript = document.getElementById('transcriptInput').value || DEMO_STARTER_TEXT;
            const tone = document.getElementById('toneSelect').value;
            
            // Parse for keywords
            const dismissalPhrases = ["probably nothing", "overreacting", "being dramatic", "silly"];
            const symptomKeywords = ["lightheaded", "dizzy", "chest", "tight", "faint", "pain", "worse"];
            
            let concernScore = 30; // Base score
            
            // Check for dismissal language
            let dismissalCount = 0;
            dismissalPhrases.forEach(phrase => {
                if (transcript.toLowerCase().includes(phrase)) {
                    dismissalCount++;
                    concernScore += 15;
                }
            });
            
            // Check for symptoms
            let symptomCount = 0;
            symptomKeywords.forEach(keyword => {
                if (transcript.toLowerCase().includes(keyword)) {
                    symptomCount++;
                    concernScore += 10;
                }
            });
            
            // Adjust for tone
            const toneMultipliers = {
                'neutral': 1.0,
                'fear': 1.3,
                'frustration': 1.2,
                'resignation': 1.4
            };
            concernScore *= toneMultipliers[tone];
            concernScore = Math.min(100, Math.round(concernScore));
            
            // Generate clinical summary
            const clinicalSummary = generateClinicalSummary(transcript, symptomCount, dismissalCount);
            
            // Generate JSON output
            const jsonOutput = {
                timestamp: new Date().toISOString(),
                symptoms: extractSymptoms(transcript),
                tone: tone,
                dismissal_risk: dismissalCount > 0 ? "HIGH" : "LOW",
                concern_score: concernScore,
                recommendation: concernScore > 70 ? "Urgent clinical review recommended" : "Schedule routine follow-up",
                confidence: 0.87
            };
            
            // Display output
            const outputDiv = document.getElementById('demoOutput');
            outputDiv.innerHTML = `
                <div class="output-card">
                    <h3 style="color: var(--primary);">Clinical Summary</h3>
                    ${clinicalSummary}
                    
                    ${dismissalCount > 0 ? `
                        <div style="background: #FFE5AA; padding: 0.5rem; border-radius: 5px; margin: 1rem 0;">
                            <strong>‚ö†Ô∏è Dismissal Language Detected:</strong> ${dismissalCount} instance(s) removed
                        </div>
                    ` : ''}
                </div>
                
                <div class="output-card" style="margin-top: 1rem;">
                    <h3 style="color: var(--primary);">Structured Output (JSON)</h3>
                    <pre style="background: #f5f5f5; padding: 1rem; border-radius: 5px; overflow-x: auto;">${JSON.stringify(jsonOutput, null, 2)}</pre>
                    <button class="btn btn-primary" onclick="copyJSON()" style="margin-top: 1rem;">Copy JSON</button>
                </div>
                
                <div class="output-card" style="margin-top: 1rem;">
                    <h3 style="color: var(--primary);">Concern Score Trend</h3>
                    <canvas id="concernChart" style="display: block;"></canvas>
                </div>
            `;
            
            // Draw chart
            drawConcernChart(concernScore);
            
            // Show achievement
            showAchievement("Demo Master", "You've successfully generated your first clinical summary!");
            
            // Update progress
            updateProgress(50);
        }
        
        function generateClinicalSummary(transcript, symptomCount, dismissalCount) {
            const hasLightheaded = transcript.toLowerCase().includes('lightheaded');
            const hasChest = transcript.toLowerCase().includes('chest');
            const hasFaint = transcript.toLowerCase().includes('faint');
            const hasDays = transcript.toLowerCase().includes('days');
            
            let summary = '<ul style="list-style: none; padding: 0;">';
            
            summary += '<li><strong>Chief Complaint:</strong> ';
            if (hasLightheaded) summary += 'Orthostatic symptoms with presyncope';
            else if (hasChest) summary += 'Chest discomfort requiring evaluation';
            else summary += 'Multiple concerning symptoms';
            summary += '</li>';
            
            summary += '<li style="margin-top: 0.5rem;"><strong>Duration:</strong> ';
            if (hasDays) summary += 'Persistent symptoms >72 hours';
            else summary += 'Recent onset';
            summary += '</li>';
            
            summary += '<li style="margin-top: 0.5rem;"><strong>Red Flags:</strong> ';
            if (hasFaint) summary += 'Near-syncope episode at work';
            if (hasChest) summary += (hasFaint ? ', ' : '') + 'Chest tightness';
            if (!hasFaint && !hasChest) summary += 'None identified';
            summary += '</li>';
            
            summary += '<li style="margin-top: 0.5rem;"><strong>Severity:</strong> ';
            if (symptomCount > 3) summary += 'High - multiple systems affected';
            else if (symptomCount > 1) summary += 'Moderate - requires evaluation';
            else summary += 'Mild - monitor';
            summary += '</li>';
            
            summary += '<li style="margin-top: 0.5rem;"><strong>Recommendation:</strong> ';
            if (hasChest || hasFaint) summary += 'Cardiovascular workup indicated';
            else summary += 'Clinical evaluation recommended';
            summary += '</li>';
            
            summary += '</ul>';
            
            return summary;
        }
        
        function extractSymptoms(transcript) {
            const symptoms = [];
            const symptomMap = {
                'lightheaded': 'Orthostatic hypotension',
                'dizzy': 'Vertigo/dizziness',
                'chest': 'Chest discomfort',
                'tight': 'Chest tightness',
                'faint': 'Presyncope',
                'pain': 'Pain symptoms',
                'worse': 'Progressive symptoms'
            };
            
            Object.keys(symptomMap).forEach(keyword => {
                if (transcript.toLowerCase().includes(keyword)) {
                    symptoms.push(symptomMap[keyword]);
                }
            });
            
            return symptoms.length > 0 ? symptoms : ['Unspecified symptoms'];
        }
        
        function drawConcernChart(currentScore) {
            const canvas = document.getElementById('concernChart');
            const ctx = canvas.getContext('2d');
            
            // Set canvas size
            canvas.width = canvas.offsetWidth;
            canvas.height = 200;
            
            // Mock data for past 7 days
            const data = [45, 52, 48, 61, 55, 67, currentScore];
            const labels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Today'];
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw axes
            ctx.strokeStyle = '#ccc';
            ctx.beginPath();
            ctx.moveTo(40, 20);
            ctx.lineTo(40, 160);
            ctx.lineTo(canvas.width - 20, 160);
            ctx.stroke();
            
            // Draw data points and lines
            const xStep = (canvas.width - 80) / (data.length - 1);
            const yScale = 140 / 100;
            
            ctx.strokeStyle = THEME.primary;
            ctx.fillStyle = THEME.primary;
            ctx.lineWidth = 2;
            
            ctx.beginPath();
            data.forEach((value, index) => {
                const x = 40 + index * xStep;
                const y = 160 - (value * yScale);
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
                
                // Draw point
                ctx.fillRect(x - 3, y - 3, 6, 6);
                
                // Draw label
                ctx.fillStyle = '#666';
                ctx.font = '11px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText(labels[index], x, 180);
                ctx.fillText(value, x, y - 10);
                ctx.fillStyle = THEME.primary;
            });
            ctx.stroke();
            
            // Highlight concerning threshold
            ctx.strokeStyle = '#ff6b6b';
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(40, 160 - (70 * yScale));
            ctx.lineTo(canvas.width - 20, 160 - (70 * yScale));
            ctx.stroke();
            ctx.setLineDash([]);
            
            ctx.fillStyle = '#ff6b6b';
            ctx.font = '10px sans-serif';
            ctx.fillText('Concern Threshold', canvas.width - 80, 160 - (70 * yScale) - 5);
        }
        
        function togglePrompt() {
            const promptDiv = document.getElementById('promptTemplate');
            promptDiv.style.display = promptDiv.style.display === 'none' ? 'block' : 'none';
        }
        
        function copyJSON() {
            const jsonOutput = document.querySelector('pre').textContent;
            navigator.clipboard.writeText(jsonOutput).then(() => {
                showAchievement("Data Exported", "JSON copied to clipboard!");
            });
        }
        
        function generatePDF() {
            window.print();
            showAchievement("PDF Generated", "Document ready for download!");
        }
        
        function showAchievement(title, text) {
            const achievement = document.getElementById('achievement');
            document.getElementById('achievementText').textContent = text;
            achievement.classList.add('show');
            
            setTimeout(() => {
                achievement.classList.remove('show');
            }, 3000);
        }
        
        function updateProgress(percent) {
            const bars = document.querySelectorAll('.progress-bar');
            bars.forEach(bar => {
                if (bar.style.getPropertyValue('--progress').includes(percent)) {
                    bar.style.animation = 'progressGrow 1s ease-out forwards';
                }
            });
        }
        
        // Interactive checklist
        document.querySelectorAll('.checkbox').forEach(checkbox => {
            checkbox.addEventListener('click', function() {
                this.classList.toggle('checked');
                showAchievement("Progress Updated", "Roadmap item toggled!");
            });
        });
        
        // Smooth scroll for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
        
        // Add some starter text to demo
        document.getElementById('transcriptInput').placeholder = DEMO_STARTER_TEXT;
        
        // Show welcome achievement on load
        window.addEventListener('load', () => {
            setTimeout(() => {
                showAchievement("Welcome!", "Begin your Echo journey");
            }, 1000);
        });
    </script>
</body>
</html>